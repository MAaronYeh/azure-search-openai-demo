{"version":3,"file":"OneShot-0cac35fa.js","sources":["../../../frontend/src/pages/oneshot/OneShot.tsx"],"sourcesContent":["import { useRef, useState } from \"react\";\nimport { Checkbox, ChoiceGroup, IChoiceGroupOption, Panel, DefaultButton, Spinner, TextField, SpinButton, IDropdownOption, Dropdown } from \"@fluentui/react\";\n\nimport styles from \"./OneShot.module.css\";\n\nimport { askApi, Approaches, AskResponse, AskRequest, RetrievalMode } from \"../../api\";\nimport { Answer, AnswerError } from \"../../components/Answer\";\nimport { QuestionInput } from \"../../components/QuestionInput\";\nimport { ExampleList } from \"../../components/Example\";\nimport { AnalysisPanel, AnalysisPanelTabs } from \"../../components/AnalysisPanel\";\nimport { SettingsButton } from \"../../components/SettingsButton/SettingsButton\";\nimport { useLogin, getToken } from \"../../authConfig\";\nimport { useMsal } from \"@azure/msal-react\";\nimport { TokenClaimsDisplay } from \"../../components/TokenClaimsDisplay\";\n\nexport function Component(): JSX.Element {\n    const [isConfigPanelOpen, setIsConfigPanelOpen] = useState(false);\n    const [approach, setApproach] = useState<Approaches>(Approaches.RetrieveThenRead);\n    const [promptTemplate, setPromptTemplate] = useState<string>(\"\");\n    const [promptTemplatePrefix, setPromptTemplatePrefix] = useState<string>(\"\");\n    const [promptTemplateSuffix, setPromptTemplateSuffix] = useState<string>(\"\");\n    const [retrievalMode, setRetrievalMode] = useState<RetrievalMode>(RetrievalMode.Hybrid);\n    const [retrieveCount, setRetrieveCount] = useState<number>(3);\n    const [useSemanticRanker, setUseSemanticRanker] = useState<boolean>(true);\n    const [useSemanticCaptions, setUseSemanticCaptions] = useState<boolean>(false);\n    const [excludeCategory, setExcludeCategory] = useState<string>(\"\");\n    const [useOidSecurityFilter, setUseOidSecurityFilter] = useState<boolean>(false);\n    const [useGroupsSecurityFilter, setUseGroupsSecurityFilter] = useState<boolean>(false);\n\n    const lastQuestionRef = useRef<string>(\"\");\n\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n    const [error, setError] = useState<unknown>();\n    const [answer, setAnswer] = useState<AskResponse>();\n\n    const [activeCitation, setActiveCitation] = useState<string>();\n    const [activeAnalysisPanelTab, setActiveAnalysisPanelTab] = useState<AnalysisPanelTabs | undefined>(undefined);\n\n    const client = useLogin ? useMsal().instance : undefined\n\n    const makeApiRequest = async (question: string) => {\n        lastQuestionRef.current = question;\n\n        error && setError(undefined);\n        setIsLoading(true);\n        setActiveCitation(undefined);\n        setActiveAnalysisPanelTab(undefined);\n\n        const token = client ? await getToken(client) : undefined\n\n        try {\n            const request: AskRequest = {\n                question,\n                approach,\n                overrides: {\n                    promptTemplate: promptTemplate.length === 0 ? undefined : promptTemplate,\n                    promptTemplatePrefix: promptTemplatePrefix.length === 0 ? undefined : promptTemplatePrefix,\n                    promptTemplateSuffix: promptTemplateSuffix.length === 0 ? undefined : promptTemplateSuffix,\n                    excludeCategory: excludeCategory.length === 0 ? undefined : excludeCategory,\n                    top: retrieveCount,\n                    retrievalMode: retrievalMode,\n                    semanticRanker: useSemanticRanker,\n                    semanticCaptions: useSemanticCaptions,\n                    useOidSecurityFilter: useOidSecurityFilter,\n                    useGroupsSecurityFilter: useGroupsSecurityFilter\n                },\n                idToken: token?.accessToken\n            };\n            const result = await askApi(request);\n            setAnswer(result);\n        } catch (e) {\n            setError(e);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const onPromptTemplateChange = (_ev?: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue?: string) => {\n        setPromptTemplate(newValue || \"\");\n    };\n\n    const onPromptTemplatePrefixChange = (_ev?: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue?: string) => {\n        setPromptTemplatePrefix(newValue || \"\");\n    };\n\n    const onPromptTemplateSuffixChange = (_ev?: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue?: string) => {\n        setPromptTemplateSuffix(newValue || \"\");\n    };\n\n    const onRetrieveCountChange = (_ev?: React.SyntheticEvent<HTMLElement, Event>, newValue?: string) => {\n        setRetrieveCount(parseInt(newValue || \"3\"));\n    };\n\n    const onRetrievalModeChange = (_ev: React.FormEvent<HTMLDivElement>, option?: IDropdownOption<RetrievalMode> | undefined, index?: number | undefined) => {\n        setRetrievalMode(option?.data || RetrievalMode.Hybrid);\n    };\n\n    const onApproachChange = (_ev?: React.FormEvent<HTMLElement | HTMLInputElement>, option?: IChoiceGroupOption) => {\n        setApproach((option?.key as Approaches) || Approaches.RetrieveThenRead);\n    };\n\n    const onUseSemanticRankerChange = (_ev?: React.FormEvent<HTMLElement | HTMLInputElement>, checked?: boolean) => {\n        setUseSemanticRanker(!!checked);\n    };\n\n    const onUseSemanticCaptionsChange = (_ev?: React.FormEvent<HTMLElement | HTMLInputElement>, checked?: boolean) => {\n        setUseSemanticCaptions(!!checked);\n    };\n\n    const onExcludeCategoryChanged = (_ev?: React.FormEvent, newValue?: string) => {\n        setExcludeCategory(newValue || \"\");\n    };\n\n    const onExampleClicked = (example: string) => {\n        makeApiRequest(example);\n    };\n\n    const onShowCitation = (citation: string) => {\n        if (activeCitation === citation && activeAnalysisPanelTab === AnalysisPanelTabs.CitationTab) {\n            setActiveAnalysisPanelTab(undefined);\n        } else {\n            setActiveCitation(citation);\n            setActiveAnalysisPanelTab(AnalysisPanelTabs.CitationTab);\n        }\n    };\n\n    const onToggleTab = (tab: AnalysisPanelTabs) => {\n        if (activeAnalysisPanelTab === tab) {\n            setActiveAnalysisPanelTab(undefined);\n        } else {\n            setActiveAnalysisPanelTab(tab);\n        }\n    };\n\n    const onUseOidSecurityFilterChange = (_ev?: React.FormEvent<HTMLElement | HTMLInputElement>, checked?: boolean) => {\n        setUseOidSecurityFilter(!!checked);\n    };\n\n    const onUseGroupsSecurityFilterChange = (_ev?: React.FormEvent<HTMLElement | HTMLInputElement>, checked?: boolean) => {\n        setUseGroupsSecurityFilter(!!checked);\n    };\n\n    const approaches: IChoiceGroupOption[] = [\n        {\n            key: Approaches.RetrieveThenRead,\n            text: \"Retrieve-Then-Read\"\n        },\n        {\n            key: Approaches.ReadRetrieveRead,\n            text: \"Read-Retrieve-Read\"\n        },\n        {\n            key: Approaches.ReadDecomposeAsk,\n            text: \"Read-Decompose-Ask\"\n        }\n    ];\n\n    return (\n        <div className={styles.oneshotContainer}>\n            <div className={styles.oneshotTopSection}>\n                <SettingsButton className={styles.settingsButton} onClick={() => setIsConfigPanelOpen(!isConfigPanelOpen)} />\n                <h1 className={styles.oneshotTitle}>Ask your data</h1>\n                <div className={styles.oneshotQuestionInput}>\n                    <QuestionInput\n                        placeholder=\"Example: Does my plan cover annual eye exams?\"\n                        disabled={isLoading}\n                        onSend={question => makeApiRequest(question)}\n                    />\n                </div>\n            </div>\n            <div className={styles.oneshotBottomSection}>\n                {isLoading && <Spinner label=\"Generating answer\" />}\n                {!lastQuestionRef.current && <ExampleList onExampleClicked={onExampleClicked} />}\n                {!isLoading && answer && !error && (\n                    <div className={styles.oneshotAnswerContainer}>\n                        <Answer\n                            answer={answer}\n                            isStreaming={false}\n                            onCitationClicked={x => onShowCitation(x)}\n                            onThoughtProcessClicked={() => onToggleTab(AnalysisPanelTabs.ThoughtProcessTab)}\n                            onSupportingContentClicked={() => onToggleTab(AnalysisPanelTabs.SupportingContentTab)}\n                        />\n                    </div>\n                )}\n                {error ? (\n                    <div className={styles.oneshotAnswerContainer}>\n                        <AnswerError error={error.toString()} onRetry={() => makeApiRequest(lastQuestionRef.current)} />\n                    </div>\n                ) : null}\n                {activeAnalysisPanelTab && answer && (\n                    <AnalysisPanel\n                        className={styles.oneshotAnalysisPanel}\n                        activeCitation={activeCitation}\n                        onActiveTabChanged={x => onToggleTab(x)}\n                        citationHeight=\"600px\"\n                        answer={answer}\n                        activeTab={activeAnalysisPanelTab}\n                    />\n                )}\n            </div>\n\n            <Panel\n                headerText=\"Configure answer generation\"\n                isOpen={isConfigPanelOpen}\n                isBlocking={false}\n                onDismiss={() => setIsConfigPanelOpen(false)}\n                closeButtonAriaLabel=\"Close\"\n                onRenderFooterContent={() => <DefaultButton onClick={() => setIsConfigPanelOpen(false)}>Close</DefaultButton>}\n                isFooterAtBottom={true}\n            >\n                <ChoiceGroup\n                    className={styles.oneshotSettingsSeparator}\n                    label=\"Approach\"\n                    options={approaches}\n                    defaultSelectedKey={approach}\n                    onChange={onApproachChange}\n                />\n\n                {(approach === Approaches.RetrieveThenRead || approach === Approaches.ReadDecomposeAsk) && (\n                    <TextField\n                        className={styles.oneshotSettingsSeparator}\n                        defaultValue={promptTemplate}\n                        label=\"Override prompt template\"\n                        multiline\n                        autoAdjustHeight\n                        onChange={onPromptTemplateChange}\n                    />\n                )}\n\n                {approach === Approaches.ReadRetrieveRead && (\n                    <>\n                        <TextField\n                            className={styles.oneshotSettingsSeparator}\n                            defaultValue={promptTemplatePrefix}\n                            label=\"Override prompt prefix template\"\n                            multiline\n                            autoAdjustHeight\n                            onChange={onPromptTemplatePrefixChange}\n                        />\n                        <TextField\n                            className={styles.oneshotSettingsSeparator}\n                            defaultValue={promptTemplateSuffix}\n                            label=\"Override prompt suffix template\"\n                            multiline\n                            autoAdjustHeight\n                            onChange={onPromptTemplateSuffixChange}\n                        />\n                    </>\n                )}\n\n                <SpinButton\n                    className={styles.oneshotSettingsSeparator}\n                    label=\"Retrieve this many search results:\"\n                    min={1}\n                    max={50}\n                    defaultValue={retrieveCount.toString()}\n                    onChange={onRetrieveCountChange}\n                />\n                <TextField className={styles.oneshotSettingsSeparator} label=\"Exclude category\" onChange={onExcludeCategoryChanged} />\n                <Checkbox\n                    className={styles.oneshotSettingsSeparator}\n                    checked={useSemanticRanker}\n                    label=\"Use semantic ranker for retrieval\"\n                    onChange={onUseSemanticRankerChange}\n                />\n                <Checkbox\n                    className={styles.oneshotSettingsSeparator}\n                    checked={useSemanticCaptions}\n                    label=\"Use query-contextual summaries instead of whole documents\"\n                    onChange={onUseSemanticCaptionsChange}\n                    disabled={!useSemanticRanker}\n                />\n                {useLogin && (\n                    <Checkbox\n                        className={styles.oneshotSettingsSeparator}\n                        checked={useOidSecurityFilter}\n                        label=\"Use oid security filter\"\n                        disabled={!client?.getActiveAccount()}\n                        onChange={onUseOidSecurityFilterChange}\n                    />\n                )}\n                {useLogin &&  (\n                    <Checkbox\n                        className={styles.oneshotSettingsSeparator}\n                        checked={useGroupsSecurityFilter}\n                        label=\"Use groups security filter\"\n                        disabled={!client?.getActiveAccount()}\n                        onChange={onUseGroupsSecurityFilterChange}\n                    />\n                )}\n                <Dropdown\n                    className={styles.oneshotSettingsSeparator}\n                    label=\"Retrieval mode\"\n                    options={[\n                        { key: \"hybrid\", text: \"Vectors + Text (Hybrid)\", selected: retrievalMode == RetrievalMode.Hybrid, data: RetrievalMode.Hybrid },\n                        { key: \"vectors\", text: \"Vectors\", selected: retrievalMode == RetrievalMode.Vectors, data: RetrievalMode.Vectors },\n                        { key: \"text\", text: \"Text\", selected: retrievalMode == RetrievalMode.Text, data: RetrievalMode.Text }\n                    ]}\n                    required\n                    onChange={onRetrievalModeChange}\n                />\n                { useLogin && <TokenClaimsDisplay />}\n            </Panel>\n        </div>\n    );\n}\n\nComponent.displayName = \"OneShot\";\n"],"names":["Component","isConfigPanelOpen","setIsConfigPanelOpen","useState","approach","setApproach","Approaches","promptTemplate","setPromptTemplate","promptTemplatePrefix","setPromptTemplatePrefix","promptTemplateSuffix","setPromptTemplateSuffix","retrievalMode","setRetrievalMode","RetrievalMode","retrieveCount","setRetrieveCount","useSemanticRanker","setUseSemanticRanker","useSemanticCaptions","setUseSemanticCaptions","excludeCategory","setExcludeCategory","useOidSecurityFilter","setUseOidSecurityFilter","useGroupsSecurityFilter","setUseGroupsSecurityFilter","lastQuestionRef","useRef","isLoading","setIsLoading","error","setError","answer","setAnswer","activeCitation","setActiveCitation","activeAnalysisPanelTab","setActiveAnalysisPanelTab","client","useLogin","useMsal","makeApiRequest","question","token","getToken","request","result","askApi","e","onPromptTemplateChange","_ev","newValue","onPromptTemplatePrefixChange","onPromptTemplateSuffixChange","onRetrieveCountChange","onRetrievalModeChange","option","index","onApproachChange","onUseSemanticRankerChange","checked","onUseSemanticCaptionsChange","onExcludeCategoryChanged","onExampleClicked","example","onShowCitation","citation","AnalysisPanelTabs","onToggleTab","tab","onUseOidSecurityFilterChange","onUseGroupsSecurityFilterChange","approaches","jsxs","styles","jsx","SettingsButton","QuestionInput","Spinner","ExampleList","Answer","x","AnswerError","AnalysisPanel","Panel","DefaultButton","ChoiceGroup","TextField","Fragment","SpinButton","Checkbox","Dropdown","TokenClaimsDisplay"],"mappings":"60BAeO,SAASA,IAAyB,CACrC,KAAM,CAACC,EAAmBC,CAAoB,EAAIC,WAAS,EAAK,EAC1D,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAqBG,EAAW,gBAAgB,EAC1E,CAACC,EAAgBC,CAAiB,EAAIL,WAAiB,EAAE,EACzD,CAACM,EAAsBC,CAAuB,EAAIP,WAAiB,EAAE,EACrE,CAACQ,EAAsBC,CAAuB,EAAIT,WAAiB,EAAE,EACrE,CAACU,EAAeC,CAAgB,EAAIX,EAAAA,SAAwBY,EAAc,MAAM,EAChF,CAACC,EAAeC,CAAgB,EAAId,WAAiB,CAAC,EACtD,CAACe,EAAmBC,CAAoB,EAAIhB,WAAkB,EAAI,EAClE,CAACiB,EAAqBC,CAAsB,EAAIlB,WAAkB,EAAK,EACvE,CAACmB,EAAiBC,CAAkB,EAAIpB,WAAiB,EAAE,EAC3D,CAACqB,EAAsBC,CAAuB,EAAItB,WAAkB,EAAK,EACzE,CAACuB,EAAyBC,CAA0B,EAAIxB,WAAkB,EAAK,EAE/EyB,EAAkBC,SAAe,EAAE,EAEnC,CAACC,EAAWC,CAAY,EAAI5B,WAAkB,EAAK,EACnD,CAAC6B,EAAOC,CAAQ,EAAI9B,EAAkB,SAAA,EACtC,CAAC+B,EAAQC,CAAS,EAAIhC,EAAsB,SAAA,EAE5C,CAACiC,EAAgBC,CAAiB,EAAIlC,EAAiB,SAAA,EACvD,CAACmC,EAAwBC,CAAyB,EAAIpC,EAAAA,SAAwC,MAAS,EAEvGqC,EAASC,EAAWC,GAAQ,EAAE,SAAW,OAEzCC,EAAiB,MAAOC,GAAqB,CAC/ChB,EAAgB,QAAUgB,EAE1BZ,GAASC,EAAS,MAAS,EAC3BF,EAAa,EAAI,EACjBM,EAAkB,MAAS,EAC3BE,EAA0B,MAAS,EAEnC,MAAMM,EAAQL,EAAS,MAAMM,GAASN,CAAM,EAAI,OAE5C,GAAA,CACA,MAAMO,EAAsB,CACxB,SAAAH,EACA,SAAAxC,EACA,UAAW,CACP,eAAgBG,EAAe,SAAW,EAAI,OAAYA,EAC1D,qBAAsBE,EAAqB,SAAW,EAAI,OAAYA,EACtE,qBAAsBE,EAAqB,SAAW,EAAI,OAAYA,EACtE,gBAAiBW,EAAgB,SAAW,EAAI,OAAYA,EAC5D,IAAKN,EACL,cAAAH,EACA,eAAgBK,EAChB,iBAAkBE,EAClB,qBAAAI,EACA,wBAAAE,CACJ,EACA,QAASmB,GAAO,WAAA,EAEdG,GAAS,MAAMC,GAAOF,CAAO,EACnCZ,EAAUa,EAAM,QACXE,EAAG,CACRjB,EAASiB,CAAC,CAAA,QACZ,CACEnB,EAAa,EAAK,CACtB,CAAA,EAGEoB,EAAyB,CAACC,EAA+DC,IAAsB,CACjH7C,EAAkB6C,GAAY,EAAE,CAAA,EAG9BC,EAA+B,CAACF,EAA+DC,IAAsB,CACvH3C,EAAwB2C,GAAY,EAAE,CAAA,EAGpCE,EAA+B,CAACH,EAA+DC,IAAsB,CACvHzC,EAAwByC,GAAY,EAAE,CAAA,EAGpCG,EAAwB,CAACJ,EAAgDC,IAAsB,CAChFpC,EAAA,SAASoC,GAAY,GAAG,CAAC,CAAA,EAGxCI,GAAwB,CAACL,EAAsCM,EAAqDC,IAA+B,CACpI7C,EAAA4C,GAAQ,MAAQ3C,EAAc,MAAM,CAAA,EAGnD6C,GAAmB,CAACR,EAAuDM,IAAgC,CAChGrD,EAAAqD,GAAQ,KAAsBpD,EAAW,gBAAgB,CAAA,EAGpEuD,GAA4B,CAACT,EAAuDU,IAAsB,CACvF3C,EAAA,CAAC,CAAC2C,CAAO,CAAA,EAG5BC,GAA8B,CAACX,EAAuDU,IAAsB,CACvFzC,EAAA,CAAC,CAACyC,CAAO,CAAA,EAG9BE,GAA2B,CAACZ,EAAuBC,IAAsB,CAC3E9B,EAAmB8B,GAAY,EAAE,CAAA,EAG/BY,GAAoBC,GAAoB,CAC1CvB,EAAeuB,CAAO,CAAA,EAGpBC,GAAkBC,GAAqB,CACrChC,IAAmBgC,GAAY9B,IAA2B+B,EAAkB,YAC5E9B,EAA0B,MAAS,GAEnCF,EAAkB+B,CAAQ,EAC1B7B,EAA0B8B,EAAkB,WAAW,EAC3D,EAGEC,EAAeC,GAA2B,CAExChC,EADAD,IAA2BiC,EACD,OAEAA,CAFS,CAGvC,EAGEC,GAA+B,CAACpB,EAAuDU,IAAsB,CACvFrC,EAAA,CAAC,CAACqC,CAAO,CAAA,EAG/BW,GAAkC,CAACrB,EAAuDU,IAAsB,CACvFnC,EAAA,CAAC,CAACmC,CAAO,CAAA,EAGlCY,GAAmC,CACrC,CACI,IAAKpE,EAAW,iBAChB,KAAM,oBACV,EACA,CACI,IAAKA,EAAW,iBAChB,KAAM,oBACV,EACA,CACI,IAAKA,EAAW,iBAChB,KAAM,oBACV,CAAA,EAGJ,OACKqE,EAAAA,KAAA,MAAA,CAAI,UAAWC,EAAO,iBACnB,SAAA,CAACD,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAO,kBACnB,SAAA,CAACC,EAAAA,IAAAC,GAAA,CAAe,UAAWF,EAAO,eAAgB,QAAS,IAAM1E,EAAqB,CAACD,CAAiB,EAAG,EAC1G4E,EAAA,IAAA,KAAA,CAAG,UAAWD,EAAO,aAAc,SAAa,gBAAA,EAChDC,EAAA,IAAA,MAAA,CAAI,UAAWD,EAAO,qBACnB,SAAAC,EAAA,IAACE,GAAA,CACG,YAAY,gDACZ,SAAUjD,EACV,OAAoBc,GAAAD,EAAeC,CAAQ,CAAA,CAAA,EAEnD,CAAA,EACJ,EACC+B,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAO,qBAClB,SAAA,CAAa9C,GAAA+C,EAAAA,IAACG,GAAQ,CAAA,MAAM,mBAAoB,CAAA,EAChD,CAACpD,EAAgB,SAAWiD,EAAAA,IAACI,IAAY,iBAAAhB,EAAoC,CAAA,EAC7E,CAACnC,GAAaI,GAAU,CAACF,GACrB6C,EAAA,IAAA,MAAA,CAAI,UAAWD,EAAO,uBACnB,SAAAC,EAAA,IAACK,GAAA,CACG,OAAAhD,EACA,YAAa,GACb,kBAAwBiD,GAAAhB,GAAegB,CAAC,EACxC,wBAAyB,IAAMb,EAAYD,EAAkB,iBAAiB,EAC9E,2BAA4B,IAAMC,EAAYD,EAAkB,oBAAoB,CAAA,CAAA,EAE5F,EAEHrC,EACI6C,EAAAA,IAAA,MAAA,CAAI,UAAWD,EAAO,uBACnB,eAACQ,GAAY,CAAA,MAAOpD,EAAM,WAAY,QAAS,IAAMW,EAAef,EAAgB,OAAO,CAAA,CAAG,CAClG,CAAA,EACA,KACHU,GAA0BJ,GACvB2C,EAAA,IAACQ,GAAA,CACG,UAAWT,EAAO,qBAClB,eAAAxC,EACA,mBAAyB+C,GAAAb,EAAYa,CAAC,EACtC,eAAe,QACf,OAAAjD,EACA,UAAWI,CAAA,CACf,CAAA,EAER,EAEAqC,EAAA,KAACW,GAAA,CACG,WAAW,8BACX,OAAQrF,EACR,WAAY,GACZ,UAAW,IAAMC,EAAqB,EAAK,EAC3C,qBAAqB,QACrB,sBAAuB,IAAO2E,EAAAA,IAAAU,GAAA,CAAc,QAAS,IAAMrF,EAAqB,EAAK,EAAG,SAAK,QAAA,EAC7F,iBAAkB,GAElB,SAAA,CAAA2E,EAAA,IAACW,GAAA,CACG,UAAWZ,EAAO,yBAClB,MAAM,WACN,QAASF,GACT,mBAAoBtE,EACpB,SAAUwD,EAAA,CACd,GAEExD,IAAaE,EAAW,kBAAoBF,IAAaE,EAAW,mBAClEuE,EAAA,IAACY,EAAA,CACG,UAAWb,EAAO,yBAClB,aAAcrE,EACd,MAAM,2BACN,UAAS,GACT,iBAAgB,GAChB,SAAU4C,CAAA,CACd,EAGH/C,IAAaE,EAAW,kBAEjBqE,EAAA,KAAAe,EAAA,SAAA,CAAA,SAAA,CAAAb,EAAA,IAACY,EAAA,CACG,UAAWb,EAAO,yBAClB,aAAcnE,EACd,MAAM,kCACN,UAAS,GACT,iBAAgB,GAChB,SAAU6C,CAAA,CACd,EACAuB,EAAA,IAACY,EAAA,CACG,UAAWb,EAAO,yBAClB,aAAcjE,EACd,MAAM,kCACN,UAAS,GACT,iBAAgB,GAChB,SAAU4C,CAAA,CACd,CAAA,EACJ,EAGJsB,EAAA,IAACc,GAAA,CACG,UAAWf,EAAO,yBAClB,MAAM,qCACN,IAAK,EACL,IAAK,GACL,aAAc5D,EAAc,SAAS,EACrC,SAAUwC,CAAA,CACd,EACAqB,MAACY,GAAU,UAAWb,EAAO,yBAA0B,MAAM,mBAAmB,SAAUZ,GAA0B,EACpHa,EAAA,IAACe,EAAA,CACG,UAAWhB,EAAO,yBAClB,QAAS1D,EACT,MAAM,oCACN,SAAU2C,EAAA,CACd,EACAgB,EAAA,IAACe,EAAA,CACG,UAAWhB,EAAO,yBAClB,QAASxD,EACT,MAAM,4DACN,SAAU2C,GACV,SAAU,CAAC7C,CAAA,CACf,EACCuB,GACGoC,EAAA,IAACe,EAAA,CACG,UAAWhB,EAAO,yBAClB,QAASpD,EACT,MAAM,0BACN,SAAU,CAACgB,GAAQ,iBAAiB,EACpC,SAAUgC,EAAA,CACd,EAEH/B,GACGoC,EAAA,IAACe,EAAA,CACG,UAAWhB,EAAO,yBAClB,QAASlD,EACT,MAAM,6BACN,SAAU,CAACc,GAAQ,iBAAiB,EACpC,SAAUiC,EAAA,CACd,EAEJI,EAAA,IAACgB,GAAA,CACG,UAAWjB,EAAO,yBAClB,MAAM,iBACN,QAAS,CACL,CAAE,IAAK,SAAU,KAAM,0BAA2B,SAAU/D,GAAiBE,EAAc,OAAQ,KAAMA,EAAc,MAAO,EAC9H,CAAE,IAAK,UAAW,KAAM,UAAW,SAAUF,GAAiBE,EAAc,QAAS,KAAMA,EAAc,OAAQ,EACjH,CAAE,IAAK,OAAQ,KAAM,OAAQ,SAAUF,GAAiBE,EAAc,KAAM,KAAMA,EAAc,IAAK,CACzG,EACA,SAAQ,GACR,SAAU0C,EAAA,CACd,EACEhB,SAAaqD,GAAmB,EAAA,CAAA,CAAA,CACtC,CACJ,CAAA,CAAA,CAER,CAEA9F,GAAU,YAAc"}